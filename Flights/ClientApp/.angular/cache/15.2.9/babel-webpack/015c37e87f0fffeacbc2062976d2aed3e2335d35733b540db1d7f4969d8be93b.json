{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet RegisterPassengerComponent = class RegisterPassengerComponent {\n  constructor(passengerService, fb, authService, router, Router) {\n    this.passengerService = passengerService;\n    this.fb = fb;\n    this.authService = authService;\n    this.router = router;\n    this.form = this.fb.group({\n      email: [''],\n      firstName: [''],\n      lastName: [''],\n      isFemale: [true]\n    });\n    this.login = () => {\n      this.authService.loginUser({\n        email: this.form.get('email')?.value\n      });\n    };\n  }\n  ngOnInit() {}\n  checkPassenger() {\n    const params = {\n      email: this.form.get('email')?.value\n    };\n    this.passengerService.findPassenger(params).subscribe({\n      next: _ => {\n        this.login();\n      }\n    });\n  }\n  register() {\n    console.log(\"Form Values: \", this.form.value);\n    this.passengerService.registerPassenger({\n      body: this.form.value\n    }).subscribe({\n      next: () => this.login(),\n      error: _ => console.error\n    });\n  }\n};\nRegisterPassengerComponent = __decorate([Component({\n  selector: 'app-register-passenger',\n  templateUrl: './register-passenger.component.html',\n  styleUrls: ['./register-passenger.component.css']\n})], RegisterPassengerComponent);\nexport { RegisterPassengerComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,IAAMC,0BAA0B,GAAhC,MAAMA,0BAA0B;EAErCC,YAAoBC,gBAAkC,EAAUC,EAAe,EAAUC,WAAwB,EAAUC,MAAM,EAAEC,MAAM;IAArH,qBAAgB,GAAhBJ,gBAAgB;IAA4B,OAAE,GAAFC,EAAE;IAAuB,gBAAW,GAAXC,WAAW;IAAuB,WAAM,GAANC,MAAM;IAEjI,SAAI,GAAG,IAAI,CAACF,EAAE,CAACI,KAAK,CAAC;MACnBC,KAAK,EAAE,CAAC,EAAE,CAAC;MACXC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfC,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,QAAQ,EAAE,CAAC,IAAI;KAChB,CAAC;IA0BM,UAAK,GAAG,MAAK;MACnB,IAAI,CAACP,WAAW,CAACQ,SAAS,CAAC;QAAEJ,KAAK,EAAE,IAAI,CAACK,IAAI,CAACC,GAAG,CAAC,OAAO,CAAC,EAAEC;MAAK,CAAE,CAAC;IACtE,CAAC;EAnC4I;EAS7IC,QAAQ,IAER;EAEAC,cAAc;IACZ,MAAMC,MAAM,GAAG;MAAEV,KAAK,EAAE,IAAI,CAACK,IAAI,CAACC,GAAG,CAAC,OAAO,CAAC,EAAEC;IAAK,CAAE;IACvD,IAAI,CAACb,gBAAgB,CAClBiB,aAAa,CAACD,MAAyB,CAAC,CACxCE,SAAS,CAAC;MACTC,IAAI,EAAEC,CAAC,IAAG;QACR,IAAI,CAACC,KAAK,EAAE;MACd;KACD,CAAC;EACN;EAEAC,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE,IAAI,CAACb,IAAI,CAACE,KAAK,CAAC;IAC7C,IAAI,CAACb,gBAAgB,CAACyB,iBAAiB,CAAC;MAAEC,IAAI,EAAE,IAAI,CAACf,IAAI,CAACE;IAAK,CAAE,CAAC,CAC/DK,SAAS,CAAC;MACTC,IAAI,EAAE,MAAM,IAAI,CAACE,KAAK,EAAE;MACxBM,KAAK,EAAEP,CAAC,IAAIG,OAAO,CAACI;KACrB,CAAC;EACN;CAKD;AAtCY7B,0BAA0B,eALtCD,SAAS,CAAC;EACT+B,QAAQ,EAAE,wBAAwB;EAClCC,WAAW,EAAE,qCAAqC;EAClDC,SAAS,EAAE,CAAC,oCAAoC;CACjD,CAAC,GACWhC,0BAA0B,CAsCtC;SAtCYA,0BAA0B","names":["Component","RegisterPassengerComponent","constructor","passengerService","fb","authService","router","Router","group","email","firstName","lastName","isFemale","loginUser","form","get","value","ngOnInit","checkPassenger","params","findPassenger","subscribe","next","_","login","register","console","log","registerPassenger","body","error","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Marc Angelo\\source\\repos\\Flights\\Flights\\ClientApp\\src\\app\\register-passenger\\register-passenger.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PassengerService } from './../api/services/passenger.service';\nimport { FormBuilder } from '@angular/forms';\nimport { AuthService } from '../auth/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-register-passenger',\n  templateUrl: './register-passenger.component.html',\n  styleUrls: ['./register-passenger.component.css']\n})\nexport class RegisterPassengerComponent implements OnInit {\n\n  constructor(private passengerService: PassengerService, private fb: FormBuilder, private authService: AuthService, private router; Router) { }\n\n  form = this.fb.group({\n    email: [''],\r\n    firstName: [''],\r\n    lastName: [''],\r\n    isFemale: [true]\r\n  })\n\n  ngOnInit(): void {\n\r\n  }\n\n  checkPassenger(): void {\n    const params = { email: this.form.get('email')?.value }\r\n    this.passengerService\r\n      .findPassenger(params as {email: string})\r\n      .subscribe({\r\n        next: _ => {\r\n          this.login()\r\n        }\r\n      })\r\n  }\n\n  register() {\n    console.log(\"Form Values: \", this.form.value);\n    this.passengerService.registerPassenger({ body: this.form.value })\r\n      .subscribe({\r\n        next: () => this.login(),\r\n        error: _ => console.error\r\n      });\r\n  }\n\n  private login = () =>  {\n    this.authService.loginUser({ email: this.form.get('email')?.value })\r\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}